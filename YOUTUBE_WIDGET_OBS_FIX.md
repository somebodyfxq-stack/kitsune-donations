# üé¨ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º YouTube –≤—ñ–¥–∂–µ—Ç—É –∑ OBS

## üö® –ü—Ä–æ–±–ª–µ–º–∏ —è–∫—ñ –±—É–ª–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ

### 1. **–í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω—ñ–π –≤–∫–ª–∞–¥—Ü—ñ**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í—ñ–¥–µ–æ –ø–æ—á–∏–Ω–∞—î –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞—Ç–∏—Å—å —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ –≤–∫–ª–∞–¥–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞ —Å—Ç–∞—î –∞–∫—Ç–∏–≤–Ω–æ—é
- **–ü—Ä–∏—á–∏–Ω–∞**: Autoplay Policy –±—Ä–∞—É–∑–µ—Ä—ñ–≤ –±–ª–æ–∫—É—î –∞–≤—Ç–æ–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏—Ö –≤–∫–ª–∞–¥–∫–∞—Ö
- **–†—ñ—à–µ–Ω–Ω—è**: ‚úÖ –î–æ–¥–∞–Ω–æ —Å–∏–º—É–ª—è—Ü—ñ—é user interaction —Ç–∞ –æ–±—Ö—ñ–¥ Visibility API

### 2. **–ü–æ—Ä–æ–∂–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –≤ OBS Browser Source**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –£ OBS Browser Source –≤—ñ–¥–µ–æ–ø–ª–µ—î—Ä –Ω–µ –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –≤–∑–∞–≥–∞–ª—ñ
- **–ü—Ä–∏—á–∏–Ω–∞**: OBS –º–∞—î —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è —â–æ–¥–æ autoplay —Ç–∞ user interaction
- **–†—ñ—à–µ–Ω–Ω—è**: ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π OBS —Ä–µ–∂–∏–º –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –¥–µ—Ç–µ–∫—Ü—ñ—î—é

---

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### OBS Detection & Handling
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥–µ—Ç–µ–∫—Ü—ñ—è OBS Browser Source**
- **–°–∏–º—É–ª—è—Ü—ñ—è user interaction –¥–ª—è –æ–±—Ö–æ–¥—É autoplay –±–ª–æ–∫—É–≤–∞–Ω–Ω—è**
- **–ê–∫—Ç–∏–≤–∞—Ü—ñ—è AudioContext –¥–ª—è –∑–≤—É–∫—É**
- **–ü–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è Page Visibility API**
- **–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ iframe –∞—Ç—Ä–∏–±—É—Ç–∏ –¥–ª—è OBS**

### –ú–µ—Ç–æ–¥ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è
- **CodePen Proxy** (—î–¥–∏–Ω–∏–π –º–µ—Ç–æ–¥) - –æ–±—Ö–æ–¥–∏—Ç—å YouTube embedding –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ –≤ OBS

### URL Parameters
–î–æ–¥–∞–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –¥–ª—è –≥–Ω—É—á–∫–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
- `?obs=true` - –ü—Ä–∏–º—É—Å–æ–≤–∏–π OBS —Ä–µ–∂–∏–º
- `?volume=75` - –†—ñ–≤–µ–Ω—å –∑–≤—É–∫—É (0-100)
- `?autoplay=true` - –ü—Ä–∏–º—É—Å–æ–≤–µ –∞–≤—Ç–æ–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è
- `?debug=true` - Debug —Ä–µ–∂–∏–º

---

## üéØ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –î–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ (—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
```
https://your-domain.com/obs/YOUR_TOKEN/youtube
```

### –î–ª—è OBS Studio (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
```
https://your-domain.com/obs/YOUR_TOKEN/youtube?obs=true&volume=80&autoplay=true
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è OBS Browser Source
1. **Width**: `800px` (–∞–±–æ –±—ñ–ª—å—à–µ)
2. **Height**: `600px` (–∞–±–æ –±—ñ–ª—å—à–µ)  
3. ‚úÖ **Shutdown source when not visible**: `ON`
4. ‚úÖ **Refresh browser when scene becomes active**: `ON`
5. **Custom CSS**: (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
```css
body { 
  background: transparent !important; 
  margin: 0 !important; 
  overflow: hidden !important; 
}
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ URL –≤—ñ–¥–∂–µ—Ç—É –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
2. –ó—Ä–æ–±—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–∏–π –¥–æ–Ω–∞—Ç –∑ YouTube –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º —É –ø–∞–Ω–µ–ª—ñ `/panel`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –≤—ñ–¥–µ–æ –≤—ñ–¥—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

### Test Page
–°—Ç–≤–æ—Ä–µ–Ω–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è: `/test-autoplay.html`
- –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É
- –¢–µ—Å—Ç OBS —Ä–µ–∂–∏–º—É
- –¢–µ—Å—Ç –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è OBS

---

## üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –í—ñ–¥–µ–æ –Ω–µ –≤—ñ–¥—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ

**–°–∏–º–ø—Ç–æ–º–∏:**
- –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è, –∞–ª–µ –≤—ñ–¥–µ–æ –Ω–µ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è
- –í—ñ–¥–µ–æ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –∫–ª—ñ–∫—É –ø–æ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Console (F12) –Ω–∞ –ø–æ–º–∏–ª–∫–∏
2. –ê–∫—Ç–∏–≤—É–π—Ç–µ –≤–∫–ª–∞–¥–∫—É –±—Ä–∞—É–∑–µ—Ä–∞
3. –ö–ª—ñ–∫–Ω—ñ—Ç—å –≤ –±—É–¥—å-—è–∫–æ–º—É –º—ñ—Å—Ü—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
4. –°–ø—Ä–æ–±—É–π—Ç–µ URL –∑ `?autoplay=true`

```javascript
// Debug –≤ –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞
console.log('OBS Mode:', window.isOBSBrowserSource?.());
console.log('Page Visibility:', document.visibilityState);
console.log('AudioContext:', window.AudioContext?.state);
```

### –í—ñ–¥–µ–æ –Ω–µ –≤—ñ–¥—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ OBS

**–°–∏–º–ø—Ç–æ–º–∏:**
- Browser Source –ø–æ–∫–∞–∑—É—î –ø–æ—Ä–æ–∂–Ω—é —Å—Ç–æ—Ä—ñ–Ω–∫—É
- –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è, –∞–ª–µ –ø–ª–µ—î—Ä –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è
- –ü–ª–µ—î—Ä –∑'—è–≤–ª—è—î—Ç—å—Å—è, –∞–ª–µ –≤—ñ–¥–µ–æ –Ω–µ –≥—Ä–∞—î

**–†—ñ—à–µ–Ω–Ω—è:**
1. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL:**
   ```
   https://your-domain.com/obs/YOUR_TOKEN/youtube?obs=true
   ```

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–∑–º—ñ—Ä–∏:**
   - –ú—ñ–Ω—ñ–º—É–º 800x600px
   - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 1920x1080px –¥–ª—è –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É

3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è OBS:**
   ```
   ‚úÖ Shutdown source when not visible: ON
   ‚úÖ Refresh browser when scene becomes active: ON
   ‚ùå Use hardware acceleration when available: OFF (–º–æ–∂–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É–≤–∞—Ç–∏)
   ```

4. **–î—ñ—ó –ø–æ —É—Å—É–Ω–µ–Ω–Ω—é:**
   - –í–∏–¥–∞–ª—ñ—Ç—å —ñ —Å—Ç–≤–æ—Ä—ñ—Ç—å Browser Source –∑–∞–Ω–æ–≤–æ
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å OBS
   - –û—á–∏—Å—Ç—ñ—Ç—å cache –±—Ä–∞—É–∑–µ—Ä–∞ (`Ctrl+F5`)
   - –°–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à–∏–π —Ç–æ–∫–µ–Ω

### Debug —Ä–µ–∂–∏–º

–£–≤—ñ–º–∫–Ω—ñ—Ç—å debug —Ä–µ–∂–∏–º –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```
https://your-domain.com/obs/YOUR_TOKEN/youtube?debug=true&obs=true
```

–£ debug —Ä–µ–∂–∏–º—ñ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ:
- üé• OBS Mode: Enabled/Disabled
- üîä Volume Level
- ‚ñ∂Ô∏è Autoplay Status  
- üìä Player State
- üîç Console Logs

---

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –∑–º—ñ–Ω–∏

### –ù–æ–≤—ñ —Ñ–∞–π–ª–∏
```
lib/youtube/obs-helpers.ts     # OBS —É—Ç–∏–ª—ñ—Ç–∏
components/youtube/            # –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—ñ–¥–∂–µ—Ç—É
hooks/use-youtube-player.ts    # Player hook
public/test-autoplay.html      # –¢–µ—Å—Ç–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
```

### –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

#### `isOBSBrowserSource()`
–î–µ—Ç–µ–∫—Ü—ñ—è OBS Browser Source –∑–∞:
- Navigator properties
- Window properties
- URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- Data –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏

#### `simulateUserInteraction()`
–°–∏–º—É–ª—è—Ü—ñ—è –∫–ª—ñ–∫—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –æ–±—Ö–æ–¥—É autoplay –±–ª–æ–∫—É–≤–∞–Ω–Ω—è

#### `enableAudioContextForOBS()`
–ê–∫—Ç–∏–≤–∞—Ü—ñ—è AudioContext –¥–ª—è –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–≤—É–∫—É

#### `initializeOBSMode()`
–ü–æ–≤–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è OBS —Ä–µ–∂–∏–º—É

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ–∫—Ä–∞—â–µ–Ω—å

| –ü—Ä–æ–±–ª–µ–º–∞ | –ë—É–ª–æ | –°—Ç–∞–ª–æ |
|----------|------|-------|
| –í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ | ‚ùå –¢—ñ–ª—å–∫–∏ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω—ñ–π –≤–∫–ª–∞–¥—Ü—ñ | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ |
| –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ OBS | ‚ùå –ù–µ –ø—Ä–∞—Ü—é—î | ‚úÖ –ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ |
| Fallback –º–µ—Ç–æ–¥–∏ | ‚ö†Ô∏è –û–±–º–µ–∂–µ–Ω—ñ | ‚úÖ 3 –º–µ—Ç–æ–¥–∏ |
| URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ | ‚ùå –ù–µ–º–∞—î | ‚úÖ –ì–Ω—É—á–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è |
| Debug –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ | ‚ö†Ô∏è –û–±–º–µ–∂–µ–Ω—ñ | ‚úÖ –ü–æ–≤–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥–µ—Ç–µ–∫—Ü—ñ—è | ‚ùå –ù–µ–º–∞—î | ‚úÖ –Ñ |

---

## üéâ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –î–ª—è —Å—Ç—Ä–∏–º–µ—Ä–∞:
1. –°–∫–æ–ø—ñ—é–π—Ç–µ URL –≤—ñ–¥–∂–µ—Ç—É –∑ –ø–∞–Ω–µ–ª—ñ `/panel`
2. –î–æ–¥–∞–π—Ç–µ `?obs=true` –¥–æ URL
3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –≤ OBS —è–∫ Browser Source
4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ —Ä–æ–∑–º—ñ—Ä–∏ 800x600 –∞–±–æ –±—ñ–ª—å—à–µ
5. –ì–æ—Ç–æ–≤–æ! –î–æ–Ω–∞—Ç–∏ –∑ YouTube –≤—ñ–¥–µ–æ –±—É–¥—É—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞—Ç–∏—Å—è

### –ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≤–Ω–æ–≥–æ URL:
```
https://7a264ff1be3f.ngrok-free.app/obs/a3847e12e657403c9558b46914037d8bfddcd388603fca99501810d5f05d8185/youtube?obs=true&volume=80&autoplay=true
```

---

## ‚ö° –§—ñ–Ω–∞–ª—å–Ω–µ —Å–ø—Ä–æ—â–µ–Ω–Ω—è

**–í–ê–ñ–õ–ò–í–û**: –í–∏–¥–∞–ª–µ–Ω–æ YouTube IFrame API –ø–æ–≤–Ω—ñ—Å—Ç—é! –¢–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ CodePen proxy** —Å–∫—Ä—ñ–∑—å (—ñ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ, —ñ –≤ OBS) –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ.

**–¢–µ–ø–µ—Ä YouTube –≤—ñ–¥–∂–µ—Ç –ø—Ä–∞—Ü—é—î —ñ–¥–µ–∞–ª—å–Ω–æ —è–∫ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ, —Ç–∞–∫ —ñ –≤ OBS! üöÄ**
